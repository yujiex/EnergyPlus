! WaterToWaterHeatPump_EIR.idf
!
! Basic file description:
! The EIR formulated water-to-water heat pump is demonstrated using a simple collection of plant loops.  Building loads
!  are represented using PLant Load Profile objects
! Run:      1 design day.
! Building: None.
! System:   None.
! Plant:    PLANT LOAD PROFILE with District Heating and Cooling as necessary.

  Version,9.0;

  Building,
    Plant Load Profile Example,  !- Name
    0.0,                     !- North Axis {deg}
    Suburbs,                 !- Terrain
    0.04,                    !- Loads Convergence Tolerance Value
    0.04,                    !- Temperature Convergence Tolerance Value {deltaC}
    FullInteriorAndExterior, !- Solar Distribution
    25,                      !- Maximum Number of Warmup Days
    6;                       !- Minimum Number of Warmup Days

  Timestep,1;

  GlobalGeometryRules,
    UpperLeftCorner,         !- Starting Vertex Position
    CounterClockWise,        !- Vertex Entry Direction
    Relative;                !- Coordinate System

  Site:Location,
    Chicago,                 !- Name
    42.00,                   !- Latitude {deg}
    -87.88,                  !- Longitude {deg}
    -6.00,                   !- Time Zone {hr}
    190.00;                  !- Elevation {m}

  SizingPeriod:DesignDay,
    Chicago Summer 1%,       !- Name
    7,                       !- Month
    21,                      !- Day of Month
    SummerDesignDay,         !- Day Type
    31.5,                    !- Maximum Dry-Bulb Temperature {C}
    10.7,                    !- Daily Dry-Bulb Temperature Range {deltaC}
    ,                        !- Dry-Bulb Temperature Range Modifier Type
    ,                        !- Dry-Bulb Temperature Range Modifier Day Schedule Name
    Wetbulb,                 !- Humidity Condition Type
    23,                      !- Wetbulb or DewPoint at Maximum Dry-Bulb {C}
    ,                        !- Humidity Condition Day Schedule Name
    ,                        !- Humidity Ratio at Maximum Dry-Bulb {kgWater/kgDryAir}
    ,                        !- Enthalpy at Maximum Dry-Bulb {J/kg}
    ,                        !- Daily Wet-Bulb Temperature Range {deltaC}
    99063.,                  !- Barometric Pressure {Pa}
    5.3,                     !- Wind Speed {m/s}
    230,                     !- Wind Direction {deg}
    ,,,,,,,,                 !- 8 skipped fields
    1.0;                     !- Sky Clearness

  SimulationControl,
    No,                      !- Do Zone Sizing Calculation
    No,                      !- Do System Sizing Calculation
    No,                      !- Do Plant Sizing Calculation
    Yes,                     !- Run Simulation for Sizing Periods
    No;                      !- Run Simulation for Weather File Run Periods

  ScheduleTypeLimits,
    Any Number;              !- Name

  ScheduleTypeLimits,
    On/Off,                  !- Name
    0,                       !- Lower Limit Value
    1,                       !- Upper Limit Value
    Discrete;                !- Numeric Type

  Schedule:Constant,
    Cooling Coil Load Loop Setpoint Temperature Schedule,     !- Name
    Any Number,              !- Schedule Type Limits Name
    17.2;                    !- Value
    
  Schedule:Constant,
    Cooling Coil Source Loop Setpoint Temperature Schedule, !- Name
    Any Number,              !- Schedule Type Limits Name
    24.5;                    !- Value
    
  Schedule:Constant,
    AlwaysOnSchedule,        !- Name
    On/Off,                  !- Schedule Type Limits Name
    1;                       !- Value

  Schedule:Compact,
    Cooling Coil Load Profile Load Schedule,  !- Name
    Any Number,              !- Schedule Type Limits Name
    THROUGH: 12/31,          !- Field 1
    FOR: AllDays,            !- Field 2
    UNTIL: 4:00,0,           !- Field 3
    UNTIL: 8:00,-12000,      !- Field 5
    UNTIL: 9:00,-24000,      !- Field 7
    UNTIL: 12:00,-8000,      !- Field 9
    UNTIL: 24:00,-2000;      !- Field 11
    
  Schedule:Constant,
    Cooling Coil Load Profile Flow Frac Schedule,  !- Name
    Any Number,              !- Schedule Type Limits Name
    1.0;                     !- Value

  PlantLoop,
    Cooling Coil Load Loop,  !- Name
    WATER,                   !- Fluid Type
    ,                        !- User Defined Fluid Type
    Cooling Coil Load Loop Operation,    !- Plant Equipment Operation Scheme Name
    Cooling Coil Load Loop Supply Outlet Node,  !- Loop Temperature Setpoint Node Name
    100,                     !- Maximum Loop Temperature {C}
    3,                       !- Minimum Loop Temperature {C}
    0.003,                   !- Maximum Loop Flow Rate {m3/s}
    0,                       !- Minimum Loop Flow Rate {m3/s}
    1,                       !- Plant Loop Volume {m3}
    Cooling Coil Load Loop Supply Inlet Node,  !- Plant Side Inlet Node Name
    Cooling Coil Load Loop Supply Outlet Node,  !- Plant Side Outlet Node Name
    Cooling Coil Load Loop Supply Branches,   !- Plant Side Branch List Name
    ,                        !- Plant Side Connector List Name
    Cooling Coil Load Loop Demand Inlet Node,  !- Demand Side Inlet Node Name
    Cooling Coil Load Loop Demand Outlet Node,  !- Demand Side Outlet Node Name
    Cooling Coil Load Loop Demand Branches,   !- Demand Side Branch List Name
    ,                        !- Demand Side Connector List Name
    Optimal;                 !- Load Distribution Scheme

  SetpointManager:Scheduled,
    Cooling Coil Load Loop Setpoint Manager,  !- Name
    Temperature,             !- Control Variable
    Cooling Coil Load Loop Setpoint Temperature Schedule,     !- Schedule Name
    Cooling Coil Load Loop Supply Outlet Node;  !- Setpoint Node or NodeList Name

  PlantEquipmentOperationSchemes,
    Cooling Coil Load Loop Operation,    !- Name
    PlantEquipmentOperation:CoolingLoad,  !- Control Scheme 1 Object Type
    Cooling Coil Load Loop Cooling Operation,  !- Control Scheme 1 Name
    AlwaysOnSchedule;        !- Control Scheme 1 Schedule Name

  PlantEquipmentOperation:CoolingLoad,
    Cooling Coil Load Loop Cooling Operation,  !- Name
    0,                       !- Load Range 1 Lower Limit {W}
    10000000,                !- Load Range 1 Upper Limit {W}
    Cooling Coil Load Loop Cooling Equipment;  !- Range 1 Equipment List Name

  PlantEquipmentList,
    Cooling Coil Load Loop Cooling Equipment,  !- Name
    HeatPump:WaterToWater:EIR:Cooling,  !- Equipment 1 Object Type
    Cooling Coil;         !- Equipment 1 Name

  BranchList,
    Cooling Coil Load Loop Supply Branches,   !- Name
    Cooling Coil Load Loop Supply Branch;     !- Branch 1 Name

  Branch,
    Cooling Coil Load Loop Supply Branch,     !- Name
    ,                        !- Pressure Drop Curve Name
    Pump:VariableSpeed,      !- Component 1 Object Type
    Cooling Coil Load Loop Pump,              !- Component 1 Name
    Cooling Coil Load Loop Supply Inlet Node,  !- Component 1 Inlet Node Name
    Cooling Coil Load Loop Intermediate Node,  !- Component 1 Outlet Node Name
    HeatPump:WaterToWater:EIR:Cooling,  !- Component 1 Object Type
    Cooling Coil,         !- Component 1 Name
    Cooling Coil Load Loop Intermediate Node,  !- Component 1 Inlet Node Name
    Cooling Coil Load Loop Supply Outlet Node;  !- Component 1 Outlet Node Name

  Pump:VariableSpeed,
    Cooling Coil Load Loop Pump,              !- Name
    Cooling Coil Load Loop Supply Inlet Node,  !- Inlet Node Name
    Cooling Coil Load Loop Intermediate Node,!- Outlet Node Name
    0.005,                   !- Design Maximum Flow Rate {m3/s}
    300000,                  !- Design Pump Head {Pa}
    2250,                    !- Design Power Consumption {W}
    0.87,                    !- Motor Efficiency
    0.0,                     !- Fraction of Motor Inefficiencies to Fluid Stream
    0,                       !- Coefficient 1 of the Part Load Performance Curve
    1,                       !- Coefficient 2 of the Part Load Performance Curve
    0,                       !- Coefficient 3 of the Part Load Performance Curve
    0,                       !- Coefficient 4 of the Part Load Performance Curve
    0,                       !- Design Minimum Flow Rate {m3/s}
    INTERMITTENT;            !- Pump Control Type

  HeatPump:WaterToWater:EIR:Cooling,
    Cooling Coil,         !- Name
    Cooling Coil Load Loop Intermediate Node, !- Load Side Inlet Node Name
    Cooling Coil Load Loop Supply Outlet Node,  !- Load Side Outlet Node Name
    Cooling Coil Source Loop Demand Inlet Node,  !- Source Side Inlet Node Name
    Cooling Coil Source Loop Demand Outlet Node,  !- Source Side Outlet Node Name
    ,                        !- Companion Coil Name
    0.003,                   !- Load Side Design Volume Flow Rate {m3/s}
    0.003,                   !- Source Side Design Volume Flow Rate {m3/s}
    32000,                   !- Reference Capacity
    3.5,                     !- Reference COP
    25.56,                   !- Reference Leaving Load Side Water Temperature
    42.0,                    !- Reference Entering Source Side Fluid Temperature
    CapCurveFuncTemp,        !- Heating Capacity Function of Temperature Curve Name
    EIRCurveFuncTemp,        !- Electric Input to Heating Output Ratio Function of Temperature Curve Name
    EIRCurveFuncPLR;         !- Electric Input to Heating Output Ratio Function of Part Load Ratio Curve Name

 Curve:Biquadratic,
    CapCurveFuncTemp,        !- Name
    0.257896E+00,            !- Coefficient1 Constant
    0.389016E-01,            !- Coefficient2 x
    -0.217080E-03,           !- Coefficient3 x**2
    0.468684E-01,            !- Coefficient4 y
    -0.942840E-03,           !- Coefficient5 y**2
    -0.343440E-03,           !- Coefficient6 x*y
    5.0,                     !- Minimum Value of x
    10.0,                    !- Maximum Value of x
    24.0,                    !- Minimum Value of y
    35.0,                    !- Maximum Value of y
    ,                        !- Minimum Curve Output
    ,                        !- Maximum Curve Output
    Temperature,             !- Input Unit Type for X
    Temperature,             !- Input Unit Type for Y
    Dimensionless;           !- Output Unit Type

  Curve:Biquadratic,
    EIRCurveFuncTemp,        !- Name
    0.933884E+00,            !- Coefficient1 Constant
    -0.582120E-01,           !- Coefficient2 x
    0.450036E-02,            !- Coefficient3 x**2
    0.243000E-02,            !- Coefficient4 y
    0.486000E-03,            !- Coefficient5 y**2
    -0.121500E-02,           !- Coefficient6 x*y
    5.0,                     !- Minimum Value of x
    10.0,                    !- Maximum Value of x
    24.0,                    !- Minimum Value of y
    35.0,                    !- Maximum Value of y
    ,                        !- Minimum Curve Output
    ,                        !- Maximum Curve Output
    Temperature,             !- Input Unit Type for X
    Temperature,             !- Input Unit Type for Y
    Dimensionless;           !- Output Unit Type

  Curve:Quadratic,
    EIRCurveFuncPLR,         !- Name
    0.222903,                !- Coefficient1 Constant
    0.313387,                !- Coefficient2 x
    0.463710,                !- Coefficient3 x**2
    0.0,                     !- Minimum Value of x
    1.0;                     !- Maximum Value of x

  BranchList,
    Cooling Coil Load Loop Demand Branches,   !- Name
    Cooling Coil Load Loop Demand Branch;     !- Branch 1 Name

  Branch,
    Cooling Coil Load Loop Demand Branch,     !- Name
    ,                        !- Pressure Drop Curve Name
    LoadProfile:Plant,       !- Component 1 Object Type
    Cooling Coil Load Profile,          !- Component 1 Name
    Cooling Coil Load Loop Demand Inlet Node,  !- Component 1 Inlet Node Name
    Cooling Coil Load Loop Demand Outlet Node;  !- Component 1 Outlet Node Name

  LoadProfile:Plant,
    Cooling Coil Load Profile,          !- Name
    Cooling Coil Load Loop Demand Inlet Node,  !- Inlet Node Name
    Cooling Coil Load Loop Demand Outlet Node,  !- Outlet Node Name
    Cooling Coil Load Profile Load Schedule,  !- Load Schedule Name
    0.002,                   !- Peak Flow Rate {m3/s}
    Cooling Coil Load Profile Flow Frac Schedule;  !- Flow Rate Fraction Schedule Name

  PlantLoop,
    Cooling Coil Source Loop,  !- Name
    WATER,                   !- Fluid Type
    ,                        !- User Defined Fluid Type
    Cooling Coil Source Loop Operation,  !- Plant Equipment Operation Scheme Name
    Cooling Coil Source Loop Supply Outlet Node,  !- Loop Temperature Setpoint Node Name
    100,                     !- Maximum Loop Temperature {C}
    3,                       !- Minimum Loop Temperature {C}
    0.003,                   !- Maximum Loop Flow Rate {m3/s}
    0,                       !- Minimum Loop Flow Rate {m3/s}
    1,                       !- Plant Loop Volume {m3}
    Cooling Coil Source Loop Supply Inlet Node,  !- Plant Side Inlet Node Name
    Cooling Coil Source Loop Supply Outlet Node,  !- Plant Side Outlet Node Name
    Cooling Coil Source Loop Supply Branches,  !- Plant Side Branch List Name
    ,                        !- Plant Side Connector List Name
    Cooling Coil Source Loop Demand Inlet Node,  !- Demand Side Inlet Node Name
    Cooling Coil Source Loop Demand Outlet Node,  !- Demand Side Outlet Node Name
    Cooling Coil Source Loop Demand Branches,    !- Demand Side Branch List Name
    ,                        !- Demand Side Connector List Name
    Optimal;                 !- Load Distribution Scheme

  SetpointManager:Scheduled,
    Cooling Coil Source Loop Setpoint Manager,  !- Name
    Temperature,             !- Control Variable
    Cooling Coil Source Loop Setpoint Temperature Schedule,  !- Schedule Name
    Cooling Coil Source Loop Supply Outlet Node;  !- Setpoint Node or NodeList Name

  PlantEquipmentOperationSchemes,
    Cooling Coil Source Loop Operation,  !- Name
    PlantEquipmentOperation:CoolingLoad,  !- Control Scheme 1 Object Type
    Cooling Coil Source Loop Cooling Operation,  !- Control Scheme 1 Name
    AlwaysOnSchedule;        !- Control Scheme 1 Schedule Name

  PlantEquipmentOperation:CoolingLoad,
    Cooling Coil Source Loop Cooling Operation,  !- Name
    0,                       !- Load Range 1 Lower Limit {W}
    1000000000,              !- Load Range 1 Upper Limit {W}
    Cooling Coil Source Loop Cooling Equipment;  !- Range 1 Equipment List Name

  PlantEquipmentList,
    Cooling Coil Source Loop Cooling Equipment,  !- Name
    DistrictHeating,         !- Equipment 1 Object Type
    Cooling Coil Source Loop Purchased Cooling;  !- Equipment 1 Name

  BranchList,
    Cooling Coil Source Loop Supply Branches,  !- Name
    Cooling Coil Source Loop Supply Branch;  !- Branch 1 Name

  Branch,
    Cooling Coil Source Loop Supply Branch, !- Name
    ,                        !- Pressure Drop Curve Name
    Pump:VariableSpeed,      !- Component 1 Object Type
    Cooling Coil Source Loop Pump,          !- Component 1 Name
    Cooling Coil Source Loop Supply Inlet Node,  !- Component 1 Inlet Node Name
    Cooling Coil Source Loop Supply Intermediate Node,!- Component 1 Outlet Node Name
    DistrictHeating,         !- Component 1 Object Type
    Cooling Coil Source Loop Purchased Cooling,  !- Component 1 Name
    Cooling Coil Source Loop Supply Intermediate Node,  !- Component 1 Inlet Node Name
    Cooling Coil Source Loop Supply Outlet Node;  !- Component 1 Outlet Node Name

  Pump:VariableSpeed,
    Cooling Coil Source Loop Pump,          !- Name
    Cooling Coil Source Loop Supply Inlet Node,  !- Inlet Node Name
    Cooling Coil Source Loop Supply Intermediate Node,  !- Outlet Node Name
    0.005,                   !- Design Maximum Flow Rate {m3/s}
    30000,                   !- Design Pump Head {Pa}
    225,                     !- Design Power Consumption {W}
    0.87,                    !- Motor Efficiency
    0.0,                     !- Fraction of Motor Inefficiencies to Fluid Stream
    0,                       !- Coefficient 1 of the Part Load Performance Curve
    1,                       !- Coefficient 2 of the Part Load Performance Curve
    0,                       !- Coefficient 3 of the Part Load Performance Curve
    0,                       !- Coefficient 4 of the Part Load Performance Curve
    0,                       !- Design Minimum Flow Rate {m3/s}
    Intermittent;            !- Pump Control Type

  DistrictHeating,
    Cooling Coil Source Loop Purchased Cooling,  !- Name
    Cooling Coil Source Loop Supply Intermediate Node,  !- Hot Water Inlet Node Name
    Cooling Coil Source Loop Supply Outlet Node,  !- Hot Water Outlet Node Name
    100000000;               !- Nominal Capacity {W}

  BranchList,
    Cooling Coil Source Loop Demand Branches,  !- Name
    Cooling Coil Source Loop Demand Branch;  !- Branch 1 Name

  Branch,
    Cooling Coil Source Loop Demand Branch,  !- Name
    ,                        !- Pressure Drop Curve Name
    HeatPump:WaterToWater:EIR:Cooling,  !- Component 1 Object Type
    Cooling Coil,         !- Component 1 Name
    Cooling Coil Source Loop Demand Inlet Node,  !- Component 1 Inlet Node Name
    Cooling Coil Source Loop Demand Outlet Node;  !- Component 1 Outlet Node Name

  Output:VariableDictionary,IDF;
  Output:Diagnostics,ReportDuringWarmup;
  Output:Variable,*,System Node Temperature,Hourly;
  Output:Variable,*,Plant Load Profile Mass Flow Rate,Hourly;
  Output:Variable,*,Plant Load Profile Heat Transfer Rate,Hourly;
  Output:Variable,*,District Heating Hot Water Rate,Hourly;
  Output:Variable,*,EIR WWHP Load Side Heat Transfer,hourly; !- HVAC Average [W]
  Output:Variable,*,EIR WWHP Source Side Heat Transfer,hourly; !- HVAC Average [W]
  Output:Variable,*,EIR WWHP Load Side Inlet Temperature,hourly; !- HVAC Average [C]
  Output:Variable,*,EIR WWHP Load Side Outlet Temperature,hourly; !- HVAC Average [C]
  Output:Variable,*,EIR WWHP Source Side Inlet Temperature,hourly; !- HVAC Average [C]
  Output:Variable,*,EIR WWHP Source Side Outlet Temperature,hourly; !- HVAC Average [C]
  Output:Variable,*,EIR WWHP Power Usage,hourly; !- HVAC Average [W]
