%% LyX 2.3.1-1 created this file.  For more info, see http://www.lyx.org/.
%% Do not edit unless you really know what you are doing.
\documentclass[english]{article}
\usepackage[T1]{fontenc}
\usepackage[letterpaper]{geometry}
\geometry{verbose,tmargin=0.5in,bmargin=0.5in,lmargin=0.5in,rmargin=0.5in,headheight=0.5in,headsep=0.5in,footskip=0.5in}
\usepackage{babel}
\usepackage{textcomp}
\usepackage{graphicx}
\usepackage[unicode=true,pdfusetitle,
 bookmarks=true,bookmarksnumbered=false,bookmarksopen=false,
 breaklinks=false,pdfborder={0 0 1},backref=false,colorlinks=false]
 {hyperref}

\makeatletter
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Textclass specific LaTeX commands.
\newenvironment{lyxcode}
	{\par\begin{list}{}{
		\setlength{\rightmargin}{\leftmargin}
		\setlength{\listparindent}{0pt}% needed for AMS classes
		\raggedright
		\setlength{\itemsep}{0pt}
		\setlength{\parsep}{0pt}
		\normalfont\ttfamily}%
	 \item[]}
	{\end{list}}

\makeatother

\begin{document}
\title{EnergyPlus Essentials}
\date{January 08, 2019}
\maketitle

\section{Introduction}

The following background on building energy modeling (BEM) will provide
a foundation before learning the essentials of EnergyPlus. 

\section*{What is BEM?}

According to the \href{https://www.bemlibrary.com/index.php/owners-managers/introduction/what-bem/}{BEM Library}:
\begin{quotation}
``Building Energy Modeling (BEM) is the practice of using computer-based
simulation software to perform a detailed analysis of a building\textquoteright s
energy use and energy-using systems. The simulation software works
by enacting a mathematical model that provides an approximate representation
of the building. 

``BEM includes whole-building simulation as well as detailed component
analysis utilizing specialized software tools that address specific
concerns, such as moisture transfer through building materials, daylighting,
indoor air quality, natural ventilation, and occupant comfort.

``BEM offers an alternative approach that encourages customized,
integrated design solutions, which offer deeper savings. Using BEM
to compare energy-efficiency options directs design decisions prior
to construction. It also guides existing building projects to optimize
operation or explore retrofit opportunities.''
\end{quotation}
Some other terms that are used to describe the same topic are:
\begin{itemize}
\item Building Simulation
\item Building Performance Simulation
\item Building Energy Simulation
\item Building Performance Modeling
\end{itemize}
Somewhat confusing, the term ``model'' can refer to both the specific
building being described and analyzed as well as referencing the software
for implementing a specific component of the building such as a wall
or chiller.

To learn more about building energy modeling consider reviewing the
following resources:
\begin{itemize}
\item \href{https://www.ashrae.org/technical-resources/ashrae-handbook/description-2017-ashrae-handbook-fundamentals}{2017 ASHRAE Handbook - Fundamentals }Chapter
19 Energy Estimating and Modeling Methods
\item \href{https://www.bemlibrary.com/}{BEM Libary}
\item \href{http://www.ibpsa.org/?page_id=695}{IBPSA}, \href{https://www.ibpsa.us/videos/all}{IBPSA-USA},
and \href{https://www.youtube.com/results?search_query=building+energy+modeling}{YouTube}
videos
\item And numerous \href{https://www.amazon.com/s/ref=nb_sb_noss_2?url=search-alias\%3Daps&field-keywords=building+energy+modeling}{books}
\end{itemize}

\section*{Questions that BEM can answer}

The most common questions that BEM can answer are:
\begin{itemize}
\item If my building was made or operated differently, how would the energy
consumption change?
\item Does my building comply with a building energy code or standard?
\item What kind of rating or how many points can I get in a environmental
certification program?
\item Is my building operating as it was designed to?
\item What is a good target for energy consumption for my building?
\end{itemize}
These questions can take place at different times during the life-cycle
of a building from before schematic design all through the rest of
the design process, and into the operation of the building

\subsection*{The Design Process and BEM }

Building energy modeling can be used throughout the design process
for a new building or when considering updates to existing buildings.
It can also be used later in the life-cycle of a building related
to comparing actual operation of the building with predicted operation.
ASHRAE \href{https://www.techstreet.com/ashrae/standards/ashrae-209-2018?gateway_code=ashrae&product_id=2010483}{Standard 209}
titled ``Energy Simulation Aided Design for Buildings Except Low-Rise
Residential Buildings'' is a critical document to in how to apply
building energy modeling. It describes a methodology to apply building
energy modeling to the design and was created to define reliable and
consistent procedures that advance the use of timely energy modeling
to quanifty the impact of design decision s at the point in time which
they are made. The standard includes different \textquotedblleft Modeling
Cycles\textquotedblright{} for different stages of using building
energy modeling during the life-cycle of the building:
\begin{itemize}
\item Modeling Cycle \#1 -- Simple Box Modeling
\item Modeling Cycle \#2 -- Conceptual Design Modeling
\item Modeling Cycle \#3 -- Load Reduction Modeling
\item Modeling Cycle \#4 -- HVAC System Selection Modeling
\item Modeling Cycle \#5 -- Design Refinement
\item Modeling Cycle \#6 -- Design Integration and Optimization
\item Modeling Cycle \#7 -- Energy Simulated-Aided Value Engineering
\item Modeling Cycle \#8 -- As-Designed Energy Performance
\item Modeling Cycle \#9 -- Change Orders
\item Modeling Cycle \#10 -- As-Built Energy Performance
\item Modeling Cycle \#11 -- Postoccupancy Energy Comparison
\end{itemize}
In addition it has information about how to integrate climate and
site analysis, benchmarking, energy charrettes, the energy performance
goals of the owners project requirements in to the design process
when using building energy modeling.

\subsection*{EnergyPlus Capabilities}

According to the \href{https://energyplus.net/}{energyplus.net web site}
(as of January 2019):
\begin{quotation}
``EnergyPlus\texttrademark{} is a whole building energy simulation
program that engineers, architects, and researchers use to model both
energy consumption---for heating, cooling, ventilation, lighting
and plug and process loads---and water use in buildings. Some of
the notable features and capabilities of EnergyPlus include:
\end{quotation}
\begin{itemize}
\item Integrated, simultaneous solution of thermal zone conditions and HVAC
system response that does not assume that the HVAC system can meet
zone loads and can simulate un-conditioned and under-conditioned spaces.
\item Heat balance-based solution of radiant and convective effects that
produce surface temperatures thermal comfort and condensation calculations.
\item Sub-hourly, user-definable time steps for interaction between thermal
zones and the environment; with automatically varied time steps for
interactions between thermal zones and HVAC systems. These allow EnergyPlus
to model systems with fast dynamics while also trading off simulation
speed for precision.
\item Combined heat and mass transfer model that accounts for air movement
between zones.
\item Advanced fenestration models including controllable window blinds,
electrochromic glazings, and layer-by-layer heat balances that calculate
solar energy absorbed by window panes.
\item Illuminance and glare calculations for reporting visual comfort and
driving lighting controls.
\item Component-based HVAC that supports both standard and novel system
configurations.
\item A large number of built-in HVAC and lighting control strategies and
an extensible runtime scripting system for user-defined control.
\item Functional Mockup Interface import and export for co-simulation with
other engines.
\item Standard summary and detailed output reports as well as user definable
reports with selectable time-resolution from annual to sub-hourly,
all with energy source multipliers.''
\end{itemize}
In addition:
\begin{itemize}
\item ASCII text based weather, input, and output files that include hourly
or sub-hourly environmental conditions, and standard and user definable
reports, respectively 
\item Transient heat conduction through building elements such as walls,
roofs, floors, etc. using conduction transfer functions
\item Thermal comfort models based on activity, inside dry bulb, humidity,
etc.
\item Anisotropic sky model for improved calculation of diffuse solar on
tilted surfaces
\item Atmospheric pollution calculations that predict CO2, SOx, NOx, CO,
particulate matter, and hydrocarbon production for both on site and
remote energy conversion
\item System and plant output is allowed to directly impact the building
thermal response rather than calculating all loads first, then simulating
systems and plants which allows the designer to more accurately investigate
the effect of undersizing fans and equipment and what impact that
might have on the thermal comfort of occupants within the building 
\item EnergyPlus runs on Windows, MacOS, and Linux computers. 
\end{itemize}
<need to balance overview with enough details to help people, I think
a list of what can be modeled might be more helpful>

\subsection*{Open Source}

\href{https://energyplus.net/}{EnergyPlus}is an \href{https://opensource.org/}{Open Source}
program so all the \href{https://github.com/NREL/EnergyPlus}{source code}
is available to inspect and modify. If you are interested in how calculations
are performed and the \href{https://energyplus.net/documentation}{Engineering Reference}
does not provide enough details to you, you can review the source
code itself. \href{https://github.com/NREL/EnergyPlus/wiki/BuildingEnergyPlus}{Instructions to build the code}
(compile the source code into an executable application) are available
in source code repository wiki if you see something that needs to
be enhanced or fixed. 

\subsection*{Brief History}

EnergyPlus has been under development since 1997 and was first released
in 2001. EnergyPlus has its roots in both the BLAST and DOE--2 programs.
BLAST (Building Loads Analysis and System Thermodynamics) and DOE--2
were both developed and released in the late 1970s and early 1980s
as energy and load simulation tools. BLAST was developed by \href{https://www.erdc.usace.army.mil/Locations/CERL/}{Construction Engineering Researrch Laboratory (CERL)}
and \href{https://illinois.edu/}{University of Illinois} which DOE-2
was developed by \href{https://www.lbl.gov/}{Berkeley Lab} and many
others. Their intended audience is a design engineer or architect
that wishes to size appropriate HVAC equipment, develop retrofit studies
for life cycling cost analyses, optimize energy performance, etc.
Born out of concerns driven by the energy crisis of the early 1970s
and recognition that building energy consumption is a major component
of the American energy usage statistics, the two programs attempted
to solve the same problem from two slightly different perspectives.
Both programs had their merits and shortcomings, their supporters
and detractors, and solid user bases both nationally and internationally.
Originally written in Fortran, in 2014 it was converted to C++. It
was developed as a simulation engine and many graphical user interfaces
utilize it.

\subsection*{Documentation and Other Resources}

The EnergyPlus documentation is currently included the installation
in the ``Documenation'' folder as PDFs. It is also available as
\href{https://energyplus.net/documentation}{PDFs online} and as \href{https://bigladdersoftware.com/epx/docs/}{browsable HTML}.
The documentation includes:
\begin{itemize}
\item Input and Output Reference: Contains a thorough description of the
various input and output files related to EnergyPlus, the format of
these files, and how the files interact and interrelate.
\item Output Details, Examples and Data Sets: Contains details on output
from EnergyPlus and specific examples. It also addresses the reference
data sets that are included.
\item Auxiliary Programs:~Contains information for the auxiliary programs
that are part of the EnergyPlus package. For example, this document
contains the user manual for the Weather Converter program, descriptions
on using Ground Heat Transfer auxiliary programs with EnergyPlus,
HVAC Template descriptions, and other assorted topics.
\item The Engineering Reference: Provides more in-depth knowledge into the
theoretical basis behind the various calculations contained in the
program including algorithm descriptions.
\item EMS Application Guide: Contains information useful to use the advanced
feature of EnergyPlus: Energy Management System tweaks. The Erl language
is described and examples for use are given.
\item External Interface Application Guide: Contains information specific
to using the external interface feature of EnergyPlus to connect other
simulation systems.
\item Plant Application Guide: Details the methods for simulating real chilled
and hot water plant systems within EnergyPlus.
\item Using EnergyPlus for Compliance Guide: Contains information specific
to using EnergyPlus in Compliance and Standard Rating systems.
\item External Interface(s) Application Guide: Contains information about
external interfaces (through the Building Controls Virtual Test Bed
link) to EnergyPlus.
\item Tips \& Tricks for Using EnergyPlus: Contains short tips and tricks
for using various parts of EnergyPlus. <MAYBE THIS SHOULD BE ELIMINATED
AND PORTIONS INCLUDED IN THIS DOCUMENT>
\end{itemize}
To learn more about how to use EnergyPlus, the example files are a
great resource. The example files are in the directory ExampleFiles
and 

\section{The EnergyPlus Ecosystem }

\subsection*{Current Interfaces }

EnergyPlus is often used directly using the text file input (IDF or
epJSON) and various output file formats along with the utilities that
come with the installation package. More information on that can be
found in the Using EnergyPlus section. In addition, EnergyPlus is
often the simulation engine for graphical user interfaces. To see
comprehensive list, see the \href{https://www.buildingenergysoftwaretools.com/}{BEST (Building Energy Software Tools) Directory}
that is operated by \href{https://www.ibpsa.us/}{IBPSA-USA}. At the
time of writing, many people use EnergyPlus inside an existing graphical
user interface such as \href{https://www.openstudio.net/}{OpenStudio},
\href{https://www.designbuilder.com/}{DesignBuilder}, \href{https://d-alchemy.com/products/simergy}{Simergy},
\href{https://bigladdersoftware.com/projects/euclid/}{Euclid}, \href{https://www.ladybug.tools/}{Ladybug},
\href{https://www.autodesk.com/products/insight/overview}{Insight},
and \href{https://www.bentley.com/en/products/brands/aecosim}{AECOsim}.
Other interfaces are also available. 

\subsection*{Approaches to Implement Measures }

In the terminology used within the building energy modeling industry
``measures,'' sometimes called energy conservation measures (ECMs)
or energy efficiency measures (EEMs), are when alternatives configurations
of a building are considered and simulated and compared with the original
building model. Measures include added wall or roof insulation, lower
internal lighting power, higher efficiency heating and cooling equipment,
and many others. When using EnergyPlus within a graphical user interface,
that interface often provides a way to implement various measures.
When not working within a graphically user interface, users have several
options for implementing measures:

For a specific building input file, a copy of the input file can be
made and then modified to reflect the measure. This is an easy approach
initially but since the original building model might change, it means
making the change in the file that reflects the measure. When many
measures are being considered, this duplicative editing can be inefficient
and prone to errors. In addition, the measure cannot be easily applied
to a different building energy model without again editing another
set of files duplicating the original effort. Due to this, it is very
common for some type of scripting to be used so that measures can
be applied to the original building model and other models of other
buildings reliably and quickly. Scripting in this approach means to
apply some type of programming language to the task of modifying files.

EnergyPlus includes, with the installation package, two methods of
implementing measures EP-Macro and the ParametricPreprocessor. EP-Macro
is similar to the C langauge pre-processor and allows for portions
of the file to be included or excluded, for portions of other files
to be included when desired, and for specific entries that are normally
fixed values to change programmatically. EP-Macro is documented int
he AuxiliaryPrograms documentation. A file with lines starting ``\#\#''
or with the ``imf'' file extension are likely to be a file using
EP-Macro files. 

The EnergyPlus ParametricPreprocessor uses special input objects in
EnergyPlus to set values for any field in any other input object for
a series of simple options <OBJECTS HAVE NOT BEEN DEFINED YET>. This
is briefly described in the AuxiliaryPrograms documentation and more
details are present in the InputOutputReference under the section
on ``Parametric Objects.'' The ParametricPreprocessor approach is
very simple but limited in the flexibility that it affords. It is
suitable for implementing measures related to internal loads, constructions,
and simple efficiency changes but is probably not the appropriate
tool for more complicated measures.

Another approach to writing measures and using measures written by
others is to use \href{https://www.openstudio.net/}{OpenStudio} and
its \href{http://nrel.github.io/OpenStudio-user-documentation/}{documentation}.
OpenStudio is closely aligned with EnergyPlus but has a different
data model and file format. It is an application programming interface
for EnergyPlus and some graphical user interfaces are using it to
work with EnergyPlus. It has two categories of measures: native OpenStudio
measures and EnergyPlus measures. Both types of measures are usually
written in the Ruby programming language. Many measures are already
available for OpenStudio and can be found in the \href{https://bcl.nrel.gov/}{Building Component Library.}It
is an open source project. 

Using the Python scripting language, \href{https://github.com/santoshphilip/eppy}{Eppy}
allows access to any of the input objects in EnergyPlus as if they
were native Python objects. It is very flexible and an especially
good choice if you are already familiar with Python. It is also an
open source project.

Another option based on the Ruby programming language is \href{https://bigladdersoftware.com/projects/modelkit/}{Modelkit}
which similar to EP-Macro consists of embedding scripting within normal
EnergyPlus input files but since it is using Ruby has a great deal
more flexility.

A \href{https://www.ashrae.org/File\%20Library/Conferences/Specialty\%20Conferences/2018\%20Building\%20Performance\%20Analysis\%20Conference\%20and\%20SimBuild/Papers/C043.pdf}{paper}
that describes these approaches to scripting and more was made during
the 2018 ASHRAE/IBPSA-USA Building Performance Conference and SimBuild.

\subsection*{Parametric Analysis Tools }

When just implementing a simple measure or even a series of measures
is not enough, a parametric analysis tool may be appropriate. These
tools allow the exploration of throughout the range of variables (such
as the thickness of insulation in the roof or the efficiency of a
boiler) to see the impacts of optimization. While any of the approaches
to implement measures described previously may be used for parametric
analysis, a few specific tools have been developed. \href{http://nrel.github.io/OpenStudio-user-documentation/reference/parametric_studies/}{OpenStudio Parametric Analysis}
tool works with OpenStudio measures and allows the simulation of a
large number of options using cloud computing services and is part
of the \href{https://www.openstudio.net/}{OpenStudio} suite. JEPlus
is a simulation manager for parametrics that includes optimization
and leverages both the EP-Macro style of implementing measures as
well as Eppy for implementing measures in the Python programming language.
\href{https://simulationresearch.lbl.gov/GO/summary.html}{GenOpt}
is a Java based generic optimization program that can use EnergyPlus.
\href{https://beopt.nrel.gov/}{BEopt} is a building optimization
tool focused on residential applications.

\subsection*{Weather Files }

Weather files are available for many locations throughout the world.
Finding the right file that represents the weather in your specific
location can sometimes be a challenge. Often the closest weather location
is the best one to choose but sometimes a site that is further away
may actually have the most similar weather. This is especially the
case in terrain that varies in elevation or when near large bodies
of water. Many weather files are available from both public and private
sources. The \href{https://energyplus.net/weather}{EnergyPlus weather file }
web site has many weather files with \href{https://energyplus.net/weather/sources}{sources described}.
That web site also has a \href{https://energyplus.net/weather/simulation}{page with links}
to many other sites that provide weather files.

\subsection*{Co-simulation and Linked Software}

<\textcompwordmark <NEED CONTENT>\textcompwordmark >

\subsection*{Interoperability }

<\textcompwordmark <NEED CONTENT>\textcompwordmark >

\subsection*{Example Files }

Many hundreds of example files come with EnergyPlus are in the ExampleFiles
folder from the installation. The \textbackslash ExampleFiles\textbackslash ExampleFiles.html
lists each one and includes the name, a description (scroll all the
way to the right) and lots of information such as the floor area and
whether certain types of input objects are included in the file. Often
searching through this file is a good way to find the proper example
file to learn about a feature. Another method is the \textbackslash ExampleFiles\textbackslash ExampleFiles-ObjectsLink.html
file which lists every type of input object that EnergyPlus uses and
then the first three files that use that input object. It is possible
that many other files also use a particular input object so if the
first three files do not help, a text search of files in the ExampleFiles
folder may find some more. 

\subsection*{Getting Help \label{subsec:Getting-Help}}

Several resources are available for getting help when using EnergyPlus:
\begin{itemize}
\item \href{https://unmethours.com/questions/}{UnmetHours}
\item \href{http://energyplus.helpserve.com/}{EnergyPlus Helpdesk}
\item \href{https://groups.yahoo.com/neo/groups/EnergyPlus_Support/info}{EnergyPlus\_support mailing list}
\item \href{https://buildingenergysoftwaretools.com/?capabilities=Support+Services&keys=EnergyPlus}{Several organizations provide paid support}
\end{itemize}
Please do not post questions as issues on the EnergyPlus Github website.
Of course, if you are using a graphical user interface with EnergyPlus,
the vendor will provide direct support.

After reviewing this document and other pertinant documents that come
with EnergyPlus like the InputOutputReference, if additional training
is required, several sources are available:
\begin{itemize}
\item \href{https://www.youtube.com/results?search_query=energyplus}{YouTube}
\item University \href{https://energyplus.net/support}{course} teaching
materials
\item Several \href{https://www.buildingenergysoftwaretools.com/?capabilities=Training+Services&keys=EnergyPlus}{organizations}
provide paid training
\end{itemize}
In addition, if you are using a graphical user interface, the vendor
probably also provides training.

\section{Using EnergyPlus }

\subsection*{Installing EnergyPlus}

Please see the EnergyPlus QuickStart Guide <ADD LINK> for instructions
on how to install EnergyPlus for your system.

\subsection*{Running EnergyPlus}

EnergyPlus is a simulation program designed for modeling buildings
with all their associated heating, ventilating, and air conditioning
equipment. EnergyPlus is a simulation engine: it was designed to be
an element within a system of programs that would include a graphical
user interface to describe the building. However, it can be run stand
alone without such an interface. There are several option for performing
a simulation with EnergyPlus:
\begin{itemize}
\item Graphical user interface
\item Command line
\item EP-Launch
\end{itemize}
In each case, a building model will be simulated in combination with
a weather file from the appropriate building location. 

\subsubsection*{Graphical User Interface}

When running an EnergyPlus simulation within a graphical user interface,
the exact method will vary depending on the specific program being
used. You should read the documentation for that software to understand
how to perfom a simulation. 

\subsubsection*{Command Line}

EnergyPlus can be used as a command line tool within a Terminal window
in Linux or MacOS or with the CMD prompt or PowerShell window under
Windows. Basic usage using the command line approach is will documented
in the QuickStart Guide <ADD LINK>. To learn more about the command
line mode, you can type:
\begin{verbatim}
energyplus --help 
\end{verbatim}
when in the Energyplus folder. This will give the following display
of options:
\begin{verbatim}
EnergyPlus, Version 9.0.1-bb7ca4f0da
Usage: energyplus [options] [input-file]
Options:
  -a, --annual                 Force annual simulation
  -c, --convert                Output IDF->epJSON or epJSON->IDF, dependent on
                               input file type
  -d, --output-directory ARG   Output directory path (default: current
                               directory)
  -D, --design-day             Force design-day-only simulation
  -h, --help                   Display help information
  -i, --idd ARG                Input data dictionary path (default: Energy+.idd
                               in executable directory)
  -m, --epmacro                Run EPMacro prior to simulation
  -p, --output-prefix ARG      Prefix for output file names (default: eplus)
  -r, --readvars               Run ReadVarsESO after simulation
  -s, --output-suffix ARG      Suffix style for output file names (default: L)
                                  L: Legacy (e.g., eplustbl.csv)
                                  C: Capital (e.g., eplusTable.csv)
                                  D: Dash (e.g., eplus-table.csv)
  -v, --version                Display version information
  -w, --weather ARG            Weather file path (default: in.epw in current
                               directory)
  -x, --expandobjects          Run ExpandObjects prior to simulation
Example: energyplus -w weather.epw -r input.idf
\end{verbatim}
EnergyPlus can be run by specifying a number of options followed by
the path to the input file. The file itself is usually in IDF (Input
Data File) format or epJSON format, but it may also be in IMF (Input
Macro File) format to be run with EPMacro using the -{}-epmacro option.

Each option has a short form (a single-character preceded by a single
dash, e.g., \textquotedbl -h\textquotedbl ) and a long form (a more
descriptive string of characters preceded by double dashes, e.g.,
\textquotedbl -{}-help\textquotedbl ).

The options generally fall into four categories:
\begin{itemize}
\item Basic informational switches: 
\begin{itemize}
\item help 
\item version 
\end{itemize}
\item Input/output control flags: 
\begin{itemize}
\item idd 
\item weather 
\item output-directory 
\item output-prefix 
\item output-suffix 
\end{itemize}
\item Pre- and post-processing switches: 
\begin{itemize}
\item epmacro 
\item expandobjects 
\item readvars 
\end{itemize}
\item Input override switches: 
\begin{itemize}
\item annual 
\item design-day
\end{itemize}
\end{itemize}
Several of these options are commonly used including the weather,
output-prefix, expandobjects, and readvars options.

\paragraph*{Examples}

Using a custom IDD file:
\begin{verbatim*}
energyplus -i custom.idd -w weather.epw input.idf
\end{verbatim*}
Pre-processing using EPMacro and ExpandObjects:
\begin{verbatim*}
energyplus -w weather.epw -m -x input.imf
\end{verbatim*}
Forcing design-day only simulations:
\begin{verbatim*}
energyplus -D input.idf
\end{verbatim*}
Giving all output files the prefix being the same as the input file
(building.idf) and placing them in a directory called output:
\begin{verbatim*}
energyplus -w weather -p building -d output building.idf
\end{verbatim*}

\paragraph*{Legacy Mode}

The command line interface is a new feature as of EnergyPlus 8.3.
Prior to version 8.3, the EnergyPlus executable took no command line
arguments, and instead expected the IDD (Input Data Dictionary) file
and the IDF files to be located in the current working directory and
named Energy+.idd and in.idf respectively. If a weather file was required
by the simulation, then an in.epw file was also required in the same
directory. This behavior is still respected if no arguments are passed
on the command line.

\subsubsection*{EP-Launch}

For users that want a simple way of selecting files and running EnergyPlus,
EP-Launch provides this and more. In addition, EP-Launch can help
open a text editor for the input and output files, open a spreadsheet
for the postprocessor results files, a web browser for the tabular
results file, and start up a viewer for the selected drawing file.
There are two different versions of EP-Launch currently part of the
EnergyPlus system. 

The main screen of EP-Launch 2 is shown below:

\includegraphics{eplaunch2}

It is a Windows program only. EP-Launch 2 is included in the EnergyPlus
installation package when installing on Windows so no additional steps
are needed to run it. It is located in the main ``root'' folder
of EnergyPlus, usually a folder named EnergyPlusVx-x-x, where the
x's are the version number. 

In 2018, EP-Launch 3 was developed and its main screen is shown below:

\includegraphics{eplaunch3}

EP-Launch 3 is not part of the EnergyPlus installation package and
needs to be installed separately. It is also open source and is available
from \href{https://github.com/NREL/EP-Launch}{GitHub} and it is documented
on \href{https://ep-launch.readthedocs.io/en/}{readthedocs} or in
the docs folder on GitHub. EP-Launch works on Windows, MacOS, and
Linux systems and is written in Python.

While both EP-Launch 2 and EP-Launch 3 do many of the same functions
the interface is quite different. For now, EP-Launch 2 allows groups
of files to be run together and has access to some utilities that
the newer version does not. EP-Launch works across multiple platforms
and is a built from the ground up to be flexible and extensible so
that individuals can make their own workflows that run what ever programs
they need to run.

\subsection*{IDF and JSON syntax}

EnergyPlus has two different input file formats that can be used to
describe the building and system that is simulated. The file extensions
for the two formats are IDF and epJSON.

\subsubsection*{IDF}

The legacy file format is a text based format that describes each
object in series. The name of the type of objects starts the object
and each value for each field follows separated by commas. The end
of the object is indicated by a semi-colon. Comments are indicated
by a exclamation point ``!'' and anything after this is ignored
by EnergyPlus. Commonly, an object is spread over many lines in the
file with one value for each field per line. The names of each field
are not required but are usually shown after the value and the comma
or semicolon as a special comment using ``!-'' as an indicator.
The objects can be in any order. A small piece of an IDF file 
\begin{lyxcode}
Building,

~~Simple~One~Zone,~~~!-~Name

~~0,~~~~~~~~~~~~~~~~~!-~North~Axis~\{deg\}

~~Suburbs,~~~~~~~~~~~!-~Terrain

~~0.04,~~~~~~~~~~~~~~!-~Loads~Convergence~Tolerance~Value

~~0.004,~~~~~~~~~~~~~!-~Temperature~Convergence~Tolerance~Value~\{deltaC\}

~~MinimalShadowing,~~!-~Solar~Distribution

~~30,~~~~~~~~~~~~~~~~!-~Maximum~Number~of~Warmup~Days

~~6;~~~~~~~~~~~~~~~~~!-~Minimum~Number~of~Warmup~Days
\end{lyxcode}
The details of this example object are not important but the use of
commas, exclamation points, and the closing semi-colon are important.
The IDF format is currently the most commonly used format throughout
the EnergyPlus ecosystem of utilities and GUIs. The list of possible
objects and fields is documented in the Energy+.idd file.

A variation on the IDF file format is the IMF file format which includes
macros that can be used for parametric analysis or file management
called EP-Macros. To learn more about macros see the AuxiliaryPrograms
document <ADD LINK>

\subsubsection*{epJSON}

A new file format based on the industry standard \href{https://www.json.org/}{JSON}
format most often used to transmit extra data to web applications.
It is a text based file format. The JSON format has wide industy usage
and is supported in just about every modern programming langauge.
It is a field-value style format using brackets and colons to indicate
the heirarchy and commas to separate each field and value pair. The
objects must appear grouped by the type of object. The list of possible
objects and fields is documented in the Energy+.schema.epJSON file
which uses \href{http://json-schema.org/}{json-schema}. The same
object shown above in IDF format is shown below in epJSON format:
\begin{lyxcode}
\{

~~~~\textquotedbl Building\textquotedbl :~\{

~~~~~~~~\textquotedbl Simple~One~Zone:~\{

~~~~~~~~~~~~\textquotedbl idf\_max\_extensible\_fields\textquotedbl :~0,

~~~~~~~~~~~~\textquotedbl idf\_max\_fields\textquotedbl :~8,

~~~~~~~~~~~~\textquotedbl idf\_order\textquotedbl :~3,

~~~~~~~~~~~~\textquotedbl loads\_convergence\_tolerance\_value\textquotedbl :~0.04,

~~~~~~~~~~~~\textquotedbl maximum\_number\_of\_warmup\_days\textquotedbl :~30,

~~~~~~~~~~~~\textquotedbl minimum\_number\_of\_warmup\_days\textquotedbl :~6,

~~~~~~~~~~~~\textquotedbl north\_axis\textquotedbl :~0,

~~~~~~~~~~~~\textquotedbl solar\_distribution\textquotedbl :~\textquotedbl MinimalShadowing\textquotedbl ,

~~~~~~~~~~~~\textquotedbl temperature\_convergence\_tolerance\_value\textquotedbl :~0.004,

~~~~~~~~~~~~\textquotedbl terrain\textquotedbl :~\textquotedbl Suburbs\textquotedbl{}

~~~~~~~~\}

~~~~\}

\}
\end{lyxcode}
While the IDF and epJSON file formats are quite different they contain
the same information and either may be used. In general, if producing
EnergyPlus input files using a programming langauge, the epJSON format
might make more sense while, at this point, if producing IDF files
using a GUI, they are likely to use the IDF format. EnergyPlus, when
used on the command line, can convert from IDF to epJSON and from
epJSON to IDF using the -c or -{}-convert option.

\subsection*{Creating and Editing Input Files}

Since both the IDF and epJSON file formats are text formats, a simple
text editor may be used to edit them. Even if not regularly used,
a good text editor is an important application to have when working
with EnergyPlus. There are many different \href{https://en.wikipedia.org/wiki/Comparison_of_text_editors}{text editors}
and a few have special features related to the IDF format such as
syntax highlighting including \href{https://github.com/bigladder/atom-language-energyplus}{Atom},
\href{https://github.com/jmarrec/notepad}{Notepad++}, and \href{http://energyplus.helpserve.com/knowledgebase/article/View/102/47/ultraedit-syntax-highlighting-file---v80}{UltraEdit}.

Another editing choice for IDF file is the IDF Editor which comes
with EnergyPlus in the \textbackslash PreProcess\textbackslash IDFEditor
directory. It is a Windows only program and is was not designed to
run on Linux or MacOS. It is specially designed for editing IDF files
and includes many features to simplify the process. The main screen
of the IDF editor is shown below. Full details of the IDF Editor can
be found in the Auxiliary Programs document under the ``Creating
Input Files'' section.

\includegraphics[width=6in]{idfeditor}

A cross platform program called \href{https://bitbucket.org/mattdoiron/idfplus/src/default/}{IDF+}
is currently being developed independantly and will have many of the
same features as the IDF Editor when complete.

\subsection*{Run-Check-Edit Repeat \label{subsec:Run-Check-Edit-Repeat}}

For most building energy modeling projects, whether assisting in early
design, refining a design, selecting a control method, or calibrating
an existing building, the use of EnergyPlus will be part of a repeating
cycle. The cycle will probably be in the form of:
\begin{itemize}
\item Running an EnergyPlus input file
\item Checking error and other output files
\item Fixing the input file
\item Repeat
\end{itemize}
Don't expect that an initial model is ever correct, it is probably
not. Initially, errors are likely to exist. The .ERR file should be
the first file checked each time EnergyPlus is run. The .ERR file
has several levels of messages: 
\begin{itemize}
\item Warning
\item Severe
\item Fatal 
\end{itemize}
A fatal error means that EnergyPlus has stopped during the simulation
and the input file needs to be fixed before the simulation can be
run to completion. Fatal errors should be the first thing fixed. Some
Fatal messages reference previous Severe messages so in that case
those should be fixed. Since the entire simulation was not performed,
it is likely that once the fatal errors are fixed that new Severe
and Warning messages will be shown. After all Fatal messages are eliminated
you should work on Severe messages. They should be fixed also. Finally,
Warning messages should be reviewed. Often Warning messages are informative
and point out unusual configurations, conditions, or choices. If what
is being described by the Warning message is as intended by you, then
the Warning message can be ignored. More often, the Warning message
points out something that is not as intended and should be fixed or
addressed. Since the .ERR file is a text file, you can usually keep
it open in a text editor program. Many (but not all) text editor programs
will detect that the .ERR file has been updated after each EnergyPlus
simulation and let you load the most recent version.

The next files to be examined are ones that show output results from
the simulation. Either the tabular output file (usually an HTML file
see Output:Table:SummaryReports and OutputControl:Table:Style) or
CSV file (see Output:Variable and Output:Meter) should be examined
depending on what you want to look at. Upon examination of the output
results, it is very likely that an aspect of the building and its
systems is not behaving as expected. With an input file representing
many thousands of assumptions, some assumptions made by you or as
a default of EnergyPlus is likely to be incorrect. Revising the EnergyPlus
input file to address this may cause new issues to be shown in the
.ERR file so it should \emph{always} be examined after each change.

To speed the process of running the simulations, you may want to only
run a design day (see SizingPeriod:DesignDay) or a subset of the year
(see RunPeriod). This approach speeds up the simulation time itself
and if used, please remember to recheck the .ERR file when running
an annual simulation for the first time.

\subsection*{Common Input Objects}

\subsection*{Key Concepts}

The following sections highlight some key concepts in EnergyPlus

\subsubsection*{Wall Thickness}

Exterior and interior walls in real buildings have thickness as specified
on building plans by detailed cross sections. For EnergyPlus, the
Construction object is made up of a list of names for the Material
objects that make up the wall or roof or floor. Each material is shown
with a thickness along with the conductivity, density, specific heat
and other factors. These thicknesses should match the the thicknesses
shown in the detailed cross sections. But when it comes to specifying
the walls themselves in three dimensional space, the walls should
be entered assuming zero thickness. Once each surface has been placed,
changing the material thickness will have no impact on zone volume,
ceiling height, floor area, shading, or daylighting. For most modern
buildings the choice of inside vs outside vs centerline should have
little impact on results so many modelers just pick one a let the
volumes be off a little. Using centerlines throughout the model splits
the difference. Or some modelers use outer edges for exterior walls
and then use centerlines for interior walls. If you are modeling a
very thick wall, such as an old stone building, then you also have
thermal mass considerations. If you use the outside edges there will
be too much mass, inside will be too little. Again, centerline will
split the difference and will be very close to the correct amount
of thermal mass (possibly losing some corner mass).

\subsubsection*{Always Plan Ahead}

Some preliminary steps will facilitate the construction of your input
file. EnergyPlus requires some information in specified, externally
available formats; other information may require some lead time to
obtain. The following checklist should be completed before you start
to construct your input file.
\begin{itemize}
\item Obtain location and design climate information for the city in which
your building is located. If possible, use one of the weather files
available for your weather period run.
\item Obtain sufficient building construction information to allow specification
of overall building geometry and surface constructions (including
exterior walls, interior walls, partitions, floors, ceilings, roofs,
windows and doors).
\item Obtain sufficient building use information to allow specification
of the lighting and other equipment (e.g. electric, gas, etc.) and
the number of people in each area of the building.
\item Obtain sufficient building thermostatic control information to allow
specification of the temperature control strategy for each area of
the building.
\item Obtain sufficient HVAC operation information to allow specification
and scheduling of the fan systems.
\item Obtain sufficient central plant information to allow specification
and scheduling of the boilers, chillers and other plant equipment.
\end{itemize}

\subsection*{What Are All These Folders?}

The installation of EnergyPlus includes a lot of different files in
different folders:

\includegraphics{energyplusfolder}

Many of these folders include valuable resources for using and learning
EnergyPlus. The main folder includes the EnergyPlus executable which
can be used on the command line and EP-Launch 2, a program that makes
it easier to use EnergyPlus and the Energy+.IDD that describes each
possible EnergyPlus object and the default, minimum, maximum, and
options for each field within each object. The Documentation folder
includes this document as well as the InputOutputReference, EngineeringReference,
AuxiliaryPrograms, OutputDetailsAndExamples which are very imporant
to understand. If you haven't looked through the documentation yet,
take a few minutes and get familiar with them. The DataSets and MacroDataSets
folders include files containing libraries of objects that may be
useful in constructing your own input files. The ASHRAE\_2005\_HOF\_Materials.idf
and WindowConstructs.idf files, for example, will help with defining
walls and windows. The ExampleFiles folder includes a huge number
of example files that are indexed in the two HYML files in that folder
or can be searched through using most text editors. The Preprocess
and PostProcess folders include many utilities that can be used directly
or as part of EP-Launch that can aid in the setting up input files
or or extracting or converting results. The WeatherData folder includes
a small sample of the many weather files that are available <ADD LINK
TO WEATHER DATA SECTION>

\subsection*{What Are All These Output Files?}

When running EnergyPlus using EP-Launch or from the command line,
depending on the options selected, many different output files may
be generated. The file extensions and file suffixes (added to the
original file name prior to the file extension are shown below:
\begin{itemize}
\item AUDIT -- input file echo with input processor errors and warnings
\item BND -- HVAC system node and component connection details
\item DBG -- output from the debug command
\item DXF -- drawing file in AutoCAD DXF format
\item EDD -- Energy Management System details
\item EIO -- additional EnergyPlus results
\item END - a single line synopsis of the simulation
\item EPMIDF -- clean idf file after EP-Macro processing
\item EPMDET -- EP-Macro detailed output with errors and warnings
\item ERR -- list of errors and warnings
\item ESO -- raw report variable output
\item MTD -- list of meter component variables
\item MTR -- raw report meter output
\item RDD -- list of output variables available from the run
\item MDD -- list of output meters available from the run 
\item SHD -- output related to shading
\item SLN -- output from \textquotedblleft report, surfaces, lines\textquotedblright{}
\item SQL - sqlite3 oiutput database format
\item SSZ -- system sizing details in comma, tab or space delimited format
\item ZSZ -- zone sizing details in comma, tab or space delimited format
\item CSV, TAB, or TXT -- tabulated results in comma, tab or space delimited
format (generated by the ReadVarsESO postprocessor) 
\item METER.CSV, METER.TAB, or METER.CSV File -- tabulated meter report
in comma, tab or space delimited format (generated by the ReadVarsESO
postprocessor)
\item MAP -- daylighting illuminance map
\item DFS - daylighting factors report
\item Screen.CSV - window screen transmittance map report
\item TABLE.HTML, TABLE.TXT, TABLE.TAB, TABLE.CSV, TABLE.XML -- tabulated
report of bin and monthly data in comma, tab or space delimited or
HTML format or XML format
\item RVAUDIT - output from the ReadVarsESO post processing program
\item SVG - HVAC Diagram related to the arrangement of HVAC components
\item SCI - surface cost information repor
\item WRL -- drawing file in VRML (Virtual Reality Markup Language) format
\item Delight IN - DElight input generated from EnergyPlus processed input
\item Delight OUT -- Detailed DElight output
\item Delight ELDMP -- DElight reference point illuminance per time step
\item Delight DFDMP -- DElight warning and error messages
\item EXPIDF -- Expanded IDF when using HVACTemplate objects
\item Group Error -- combined error files for a group run
\item VCpErr -- Transition program error file
\item Proc.CSV -- Simple statistiscs generated from CSVProc
\end{itemize}
Almost of these output files are documents in the OutputDetailsAndExamples
document <ADD LINK> 

Don't be intemindated by the long list of files, you can do a lot
in EnergyPlus with just the IDF input file, the TABLE.HTML file and
the ERR file.

\subsection*{Versions and Updating}

When using the IDF input file format with EnergyPlus, each release
(which are generally twice per year) is likely to have small changes
to the file format. Included with EnergyPlus are a number of ways
to update files so that they are compatible with the release. Each
method ultimately uses the TransitionVx-x-x-ToVx-x-x.exe files that
are located in the Preprocess\textbackslash IDFVersionUpdater folder.
The ways to update your IDF files are:
\begin{itemize}
\item IDFVersionUpdater program (shown below) is included in the installation
and works on multiple platforms. It is located in the Preprocess\textbackslash IDFVersionUpdater
folder. It can convert from EnergyPlus 7.2 to the most recent version
and even older versions can be converted if the proper files are downloaded
from the \href{http://energyplus.helpserve.com/Knowledgebase/List/Index/46/converting-older-version-files}{helpdesk}.
It can also update a group of files. It is documented in the AuxiliaryPrograms
document <LINK>.
\end{itemize}
\includegraphics{IDFVersionUpdater}
\begin{itemize}
\item EP-Launch 2 - The windows only program that comes with the EnergyPlus
installation can update a single file from the just previous version
of EnergyPlus only by using the File..Transition command.
\item EP-Launch 3 - The program for Windows, Linux, and MacOS can update
a single file across multiple versions using the Transition workflow.
\item Command line Transition - This allows updating files using the command
line such as the Terminal for MacOS and Linux or the CMD or PowerShell
for Windows. It is documented in the AuxiliaryPrograms document <LINK>.
\end{itemize}

\subsection*{Errors and How to Fix Them}

As described in the \nameref{subsec:Run-Check-Edit-Repeat} section
dealing with errors described in the ERR file are part of creating
files with EnergyPlus. Resovling erros is something that both new
and very experienced users have to do. Most of the, the error message
itself, if carefully reviewed will point to the problem. Some error
messages will also reference earlier messages that should also be
checked. Careful review of the ERR file and the input file will often
reveal solutions to the most common errors. 

Also see the \nameref{subsec:Getting-Help} section

<IT WOULD BE GOOD TO ADD A LIST OF COMMON ERRORS AND SOLUTIONS HERE> 

<MAYBE ADD LINK TO OTHER RESOURCES THAT CAN BE USED TO RESOLVE ERRORS
- UNMETHOURS, MAILING LISTS>

<MAYBE SOMETHING FROM GUIDELINES FOR ENERGY SIMULATION PDF>

\subsection*{Modeling Simply}

<MAYBE SOMETHING FROM GUIDELINES FOR ENERGY SIMULATION PDF>

\subsection*{Quality Control}

<MAYBE SOMETHING FROM GUIDELINES FOR ENERGY SIMULATION PDF>

\subsection*{Choosing a Baseline}

<The importance of deciding on the baseline model that is used as
a basis of comparison for various energy efficiency measures that
are used during the design process>

\subsection*{Presenting Results to Others}

<MAYBE SOMETHING FROM PROJECT STASIO>

\section{Introduction to Example Building Models}

\section{Envelope and Geometry }

\subsection*{Coordinate System}

<maybe take this from existing documentation>

\subsection*{Surfaces and Zones}

A building \textquotedblleft surface\textquotedblright{} is the fundamental
element in the building model. In the general sense, there are two
types of \textquotedblleft surfaces\textquotedblright{} in EnergyPlus.
These are: 
\begin{itemize}
\item heat transfer surfaces
\item heat storage surfaces 
\end{itemize}
A good rule to follow for EnergyPlus modeling of surfaces is: \textquotedblleft Always
define a surface as a heat storage surface unless it must be defined
as a heat transfer surface.\textquotedblright{} Any surface, which
is expected to separate spaces of significantly different temperatures,
must be defined as a heat transfer surface. Thus, exterior surfaces,
such as outside walls, roofs and floors, are heat transfer surfaces.
Interior surfaces (partitions) are heat storage surfaces if they separate
spaces maintained at the same temperature and heat transfer surfaces
if they separate spaces maintained at different temperatures. A discussion
of how to define heat transfer and heat storage surfaces will occur
in later steps. In order to correctly \textquotedblleft zone\textquotedblright{}
the building it is necessary only to distinguish between the two. 

\subsection*{Zoning}

A \textquotedblleft zone\textquotedblright{} is a thermal, not a geometric,
concept. A \textquotedblleft zone\textquotedblright{} is an air volume
at a uniform temperature plus all the heat transfer and heat storage
surfaces bounding or inside of that air volume. EnergyPlus calculates
the energy required to maintain each zone at a specified temperature
for each hour of the day. Since EnergyPlus performs a zone heat balance,
the first step in preparing a building description is to break the
building into zones. The objective of this exercise is to define as
few zones as possible without significantly compromising the integrity
of the simulation. 

Although defining building zones is somewhat of an art, a few general
rules will keep the new simulation user out of trouble. <\textcompwordmark <Consider
the following figure, which shows the floor plan of an Adult Education
Center. >\textcompwordmark >

The question is, \textquotedblleft How many thermal zones should be
used to model this building?\textquotedblright{} The inexperienced
building modeler may be tempted to define each room in the building
as a zone, but the thermal zone is defined as a volume of air at a
uniform temperature. The general rule then is to use the number of
fan systems (and radiant systems) not the number of rooms to determine
the number of zones in the building. The minimum number of zones in
a general simulation model will usually be equal to the number of
systems serving the building. The collection of heat transfer and
heat storage surfaces defined within each zone will include all surfaces
bounding or inside of the space conditioned by the system. 

\subsection*{Materials and Constructions}

When you don't know the specific materials and constructions for the
builidng being modeled, you may want to review the ASHRAE\_2005\_HOF\_Materials.idf
file contained in the DataSets folder. The file contains typical materials
and constructionsand is based on the 2005 version of the ASHRAE Handbook
- Fundamentals.

\subsection*{Heat Transfer to the Ground}

\section{Internal Loads }

\subsection*{Lights and Equipment}

\subsection*{Daylighting}

\subsection*{People and Comfort}

\subsection*{Infiltration and Airflow}

\section{HVAC }

\subsection*{Ideal Loads}

\subsection*{HVAC Templates}

\subsection*{Zone Equipment}

\subsection*{Air Loops}

\subsection*{Coils}

\subsection*{Plant Loops}

\subsection*{Plant Equipment}

\subsection*{Controls}

\subsection*{EMS}

\section{Economics and Emissions}

\subsection*{Tariffs}

\subsection*{Life Cycle Costs}

\subsection*{Emissions and TDV}

\section{Specific Tips }
\end{document}
